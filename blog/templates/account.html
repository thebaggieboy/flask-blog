{% extends "./base.html" %}

{% block head %}
  <title>Account</title>
{% endblock head %}

{% block content %}
  <main style="padding: 10px;">
     <div class="content-section">
       <div class="media container">
     
         <div style="padding: 10px;" class="media-body ">
          <img src="{{image_file}}"  style="height: 80px;width: 80px;" alt="cant display image" class="rounded-circle account-img img-fluid"> <br>

           <h2 class="account-heading">{{current_user.username}}</h2>
           <p class="text-secondary">{{current_user.email}}</p>
         </div>
       </div>
       
     </div>
  </main>
  <div class="container" style="padding: 10px;">
    <form action="" method="POST" enctype="multipart/form-data">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">
        <legend class="border-bottom mb-4">Account Information</legend>
        <div class="form-group">

          {{form.username.label(class="form-control-label")}}

          {% if form.username.errors %}
            {{form.username(class='form-control form-control-sm is-invalid')}}
            <div class="invalid-feedback">
              {% for error in form.username.errors  %}
                <span>{{error}}</span>
              {% endfor %}
            </div>
          {% else %}
          {{form.username(class="form-control form-control-lg")}}
          {% endif %}

          

        </div> <br>
        <div class="form-group">

          {{form.email.label(class="form-control-label")}}

          {% if form.email.errors %}
            {{form.email(class='form-control form-control-sm is-invalid')}}
            <div class="invalid-feedback">
              {% for error in form.email.errors  %}
                <span>{{error}}</span>
              {% endfor %}
            </div>
          {% else %}
          {{form.email(class="form-control form-control-sm")}}
          {% endif %}

          

        </div> <br> <br>
        <div class="form-group p-2">
          {{form.profile_picture.label()}}
          {{form.profile_picture(class="form-control-file")}}

          {% if form.profile_picture.errors %}
          {% for error in form.profile_picture.errors  %}
          <span class="text-danger">{{error}}</span>
        {% endfor %}
          {% endif %}

        </div>
        <div class="form-group">
          {{form.submit(class="btn btn-outline-info btn-lg")}}
        </div>
      </fieldset>
    </form>
  </div>
{% endblock content %}